package com.pedrotavares.paidmedia.utils.loopThruChildren{	import flash.display.MovieClip;	import flash.display.DisplayObjectContainer;	import flash.display.DisplayObject;	import flash.display.Stage;	import flash.events.Event;	public class LoopThruStage extends MovieClip	{		// Instatiate a empty array to hold the initial array		public var mChildren:Array;		// Instatiate a empty array to hold the shuffled array		public var arr_shuffled:Array = []; // TO DO: DO WE NEED TWO VARIABLES? CAN'T THIS BE COMPRESSED INTO ONE?		public function LoopThruStage(stage)		{			trace("Wait until is on stage");			/*if (stage) getChildren();			else addEventListener( Event.ADDED_TO_STAGE, getChildren )*/						for( var i:int = 0; i <  stage.numChildren; i++ )			{				trace("Looping thru: ", i);				/*var f:DisplayObject = stage.getChildAt(i);				if( f is MovieClip )				{					trace( i, "is a movieclip");				}*/			}					}				private function getChildren( e:Event=null )		{			trace("Loop thru stage");			for( var i:int = 0; i <  stage.numChildren; i++ )			{				trace("Looping thru: ", i);				/*var f:DisplayObject = stage.getChildAt(i);				if( f is MovieClip )				{					trace( i, "is a movieclip");				}*/			}		}				public function shuffleArray(arr:Array):Array		{			//trace(arr);			// Loop thru the original array and shuffle it			while( arr.length > 0)			{				arr_shuffled.push(arr.splice(Math.round(Math.random() * (arr.length - 1)), 1)[0]);			}			// Return the shuffled array			return arr_shuffled;		}				private function getChildrenOf(mClip:DisplayObjectContainer):Array		{			// Create an empty array to store the children			var temp:Array = [];			// Create a variable for the number of children			var nChildren:Number = mClip.numChildren;			//trace(nChildren);			// Loop thru the children and add them to the array			for ( var i:int = 0; i < nChildren; i++ )			{				temp.push(mClip.getChildAt(i));			}			// Return the array			return temp;		}	}}